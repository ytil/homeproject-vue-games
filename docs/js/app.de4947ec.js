(function(t){function e(e){for(var i,s,l=e[0],o=e[1],c=e[2],h=0,m=[];h<l.length;h++)s=l[h],a[s]&&m.push(a[s][0]),a[s]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i]);u&&u(e);while(m.length)m.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,l=1;l<n.length;l++){var o=n[l];0!==a[o]&&(i=!1)}i&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},a={app:0},r=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=o;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0319":function(t,e,n){"use strict";var i=n("57e5"),a=n.n(i);a.a},"034f":function(t,e,n){"use strict";var i=n("64a9"),a=n.n(i);a.a},4019:function(t,e,n){"use strict";var i=n("c3f2"),a=n.n(i);a.a},4416:function(t,e,n){t.exports=n.p+"img/handshake.5a4e3444.png"},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),a=n("ce5b"),r=n.n(a),s=n("5c96"),l=n.n(s),o=n("1881"),c=n.n(o),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("v-app",[n("v-content",[n("router-view")],1),n("v-footer",{attrs:{app:"",color:"indigo",dark:"",height:"auto"}},[n("v-layout",{attrs:{"justify-center":"","align-center":"",wrap:""}},[n("v-flex",{attrs:{shrink:""}},[t._v("\n          © Иванников Дмитрий, "+t._s((new Date).getFullYear())+"\n        ")]),n("v-flex",{attrs:{shrink:""}},[n("v-btn",{attrs:{href:"https://github.com/ytil/homeproject-vue-games",tag:"a",target:"_blank",icon:"",small:""}},[n("v-icon",[t._v("fab fa-github")])],1),n("v-btn",{attrs:{href:"https://t.me/ytil357",tag:"a",target:"_blank",icon:"",small:""}},[n("v-icon",[t._v("fab fa-telegram")])],1),n("v-btn",{attrs:{href:"mailto:ivannikov.web@gmail.com",tag:"a",target:"_blank",icon:"",small:""}},[n("v-icon",[t._v("fab fa-google")])],1)],1)],1)],1)],1)],1)},h=[],m={name:"App"},v=m,f=(n("034f"),n("2877")),g=Object(f["a"])(v,u,h,!1,null,null,null),p=g.exports,d=(n("6c7b"),n("2f62"));i["default"].use(d["a"]);var b=new d["a"].Store({state:{width:3,height:3,winningLine:3,nextMoveX:!0,matrix:[],emptyCells:0,gameOver:!1,gameWinner:!1},getters:{currentPlayer:function(t){return t.nextMoveX?"X":"O"}},mutations:{updateWidth:function(t,e){t.width=e},updateHeight:function(t,e){t.height=e},updateWinningLine:function(t,e){t.winningLine=e},resetToGameStartValues:function(t){t.nextMoveX=!0,t.emptyCells=t.width*t.height,t.gameOver=!1,t.gameWinner=!1},setMatrix:function(t,e){t.matrix=e},changeMatrixCell:function(t,e){var n=e.x,i=e.y,a=e.player;t.matrix[i].splice(n,1,a)},decreaseEmptyCells:function(t){t.emptyCells=t.emptyCells-1},setWinner:function(t,e){t.gameOver=!0,t.gameWinner=e},setDraw:function(t){t.gameOver=!0,t.gameWinner="draw"},changePlayer:function(t){t.nextMoveX=!t.nextMoveX}},actions:{newGame:function(t){var e=t.state,n=e.width,i=e.height,a=Array(i).fill(null).map(function(){return Array(n).fill(null)});t.commit("resetToGameStartValues"),t.commit("setMatrix",a)}}}),y=n("8c4f"),x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-layout",{attrs:{"justify-center":""}},[n("h1",[t._v("Крестики-нолики")])]),n("v-divider"),n("v-layout",{attrs:{"justify-center":"","mt-5":""}},[n("b",{staticClass:"text-xs-center"},[t._v("Использованы следующие технологии и библиотеки:")])]),n("v-layout",{attrs:{"justify-center":"","mb-3":""}},[n("v-chip",[t._v("Vue")]),n("v-chip",[t._v("Vuex")]),n("v-chip",[t._v("Vue-router")]),n("v-chip",[t._v("Vuetify")])],1),n("v-layout",{attrs:{"justify-center":"","mb-5":""}},[n("p",{staticClass:"text-xs-center"},[t._v("\n      Алгоритм проверки выигрыша:\n      "),n("code",[t._v("'src/utils/WinChecker.js'")])])]),n("v-layout",{attrs:{"mb-3":""}},[n("v-flex",[n("app-game-settings")],1)],1),n("v-layout",{attrs:{"justify-center":"","mb-5":""}},[n("v-btn",{attrs:{to:"/board",dark:"",large:"",color:"indigo"},nativeOn:{click:function(e){return t.newGame(e)}}},[t._v("Играть")])],1)],1)},_=[],w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"game-settings"},[n("v-layout",{attrs:{wrap:"","align-center":"","mb-1":""}},[n("v-flex",{attrs:{xs3:""}},[n("b",[t._v("Ширина")])]),n("v-flex",{attrs:{xs9:""}},[n("v-layout",[n("v-flex",{attrs:{"hidden-xs-only":"","mr-5":""}},[n("el-slider",{attrs:{min:3,max:9},model:{value:t.width,callback:function(e){t.width=t._n(e)},expression:"width"}})],1),n("v-flex",{attrs:{"ml-auto":"",shrink:""}},[n("el-input-number",{attrs:{min:3,max:9,size:"small"},model:{value:t.width,callback:function(e){t.width=t._n(e)},expression:"width"}})],1)],1)],1)],1),n("v-layout",{attrs:{wrap:"","align-center":"","mb-1":""}},[n("v-flex",{attrs:{xs3:""}},[n("b",[t._v("Высота")])]),n("v-flex",{attrs:{xs9:""}},[n("v-layout",[n("v-flex",{attrs:{"hidden-xs-only":"","mr-5":""}},[n("el-slider",{attrs:{min:3,max:9},model:{value:t.height,callback:function(e){t.height=t._n(e)},expression:"height"}})],1),n("v-flex",{attrs:{"ml-auto":"",shrink:""}},[n("el-input-number",{attrs:{min:3,max:9,size:"small"},model:{value:t.height,callback:function(e){t.height=t._n(e)},expression:"height"}})],1)],1)],1)],1),n("v-layout",{attrs:{wrap:"","align-center":"","mb-1":""}},[n("v-flex",{attrs:{xs3:""}},[n("b",[t._v("Для победы")])]),n("v-flex",{attrs:{xs9:""}},[n("v-layout",[n("v-flex",{attrs:{"hidden-xs-only":"","mr-5":""}},[n("el-slider",{attrs:{min:3,max:t.maxWinningLineValue},model:{value:t.winningLine,callback:function(e){t.winningLine=t._n(e)},expression:"winningLine"}})],1),n("v-flex",{attrs:{"ml-auto":"",shrink:""}},[n("el-input-number",{attrs:{min:3,max:t.maxWinningLineValue,size:"small"},model:{value:t.winningLine,callback:function(e){t.winningLine=t._n(e)},expression:"winningLine"}})],1)],1)],1)],1)],1)},k=[],j={name:"GameSettings",computed:{width:{get:function(){return this.$store.state.width},set:function(t){this.$store.commit("updateWidth",t)}},height:{get:function(){return this.$store.state.height},set:function(t){this.$store.commit("updateHeight",t)}},winningLine:{get:function(){return this.$store.state.winningLine},set:function(t){this.$store.commit("updateWinningLine",t)}},maxWinningLineValue:function(){var t=this.width>=this.height?this.width:this.height;return t}}},O=j,S=(n("7a0b"),Object(f["a"])(O,w,k,!1,null,"a152bed0",null)),C=S.exports,L={name:"Home",components:{"app-game-settings":C},methods:{newGame:function(){this.$store.dispatch("newGame")}}},$=L,A=Object(f["a"])($,x,_,!1,null,null,null),X=A.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-toolbar",{attrs:{"auto-height":""}},[n("v-toolbar-title",[t._v("\n      Крестики-нолики\n    ")]),n("v-spacer"),n("v-toolbar-items",[n("v-btn",{attrs:{flat:"",to:"/"}},[t._v("На главную")])],1)],1),n("v-container",[n("v-layout",{attrs:{"justify-center":"",wrap:""}},[n("v-btn",{on:{click:t.newGame}},[t._v("Сбросить ходы")]),n("v-btn",{on:{click:t.showSettings}},[t._v("Изменить настройки")])],1),n("v-layout",{attrs:{"justify-center":"","mt-5":"","mb-3":""}},[n("h1",[t._v("Ходит игрок "+t._s(t.currentPlayer))])]),n("v-layout",[n("app-table")],1)],1),n("app-modal-game-results"),n("app-modal-game-settings")],1)},P=[],W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("div",{staticClass:"table"},t._l(t.matrix,function(e,i){return n("div",{key:i,staticClass:"row"},t._l(e,function(t,e){return n("app-table-cell",{key:e,attrs:{x:e,y:i,cellContent:t}})}),1)}),0)])},V=[],E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cell",class:t.clickedCellClassName,on:{click:t.onCellClick}},[t._v("\n  "+t._s(t.cellContent)+"\n")])},G=[],T=n("cebc"),I=(n("c5f6"),n("3b2b"),n("75fc")),R=n("d225"),U=n("b0b4"),B=function(){function t(e,n,i,a,r){Object(R["a"])(this,t),this.x=e,this.y=n,this.player=i,this.matrix=a,this.winningLine=r,this.s=r-1,this.MAX_X_AXIS_VALUE=a[0].length-1,this.MAX_Y_AXIS_VALUE=a.length-1}return Object(U["a"])(t,[{key:"getTopSubstring",value:function(t,e,n){var i=[];while(e>0&&n>0){e-=1,n-=1;var a=this.matrix[e][t];if(null===a||a!==this.player)break;i.push(a)}return i.reverse()}},{key:"getBottomSubstring",value:function(t,e,n){var i=[];while(e<this.MAX_Y_AXIS_VALUE&&n>0){e+=1,n-=1;var a=this.matrix[e][t];if(null===a||a!==this.player)break;i.push(a)}return i}},{key:"getLeftSubstring",value:function(t,e,n){var i=[];while(t>0&&n>0){t-=1,n-=1;var a=this.matrix[e][t];if(null===a||a!==this.player)break;i.push(a)}return i.reverse()}},{key:"getRightSubstring",value:function(t,e,n){var i=[];while(t<this.MAX_X_AXIS_VALUE&&n>0){t+=1,n-=1;var a=this.matrix[e][t];if(null===a||a!==this.player)break;i.push(a)}return i}},{key:"getTopLeftSubstring",value:function(t,e,n){var i=[];while(t>0&&e>0&&n>0){t-=1,e-=1,n-=1;var a=this.matrix[e][t];if(null===a||a!==this.player)break;i.push(a)}return i.reverse()}},{key:"getTopRightSubstring",value:function(t,e,n){var i=[];while(t<this.MAX_X_AXIS_VALUE&&e>0&&n>0){t+=1,e-=1,n-=1;var a=this.matrix[e][t];if(null===a||a!==this.player)break;i.push(a)}return i.reverse()}},{key:"getBottomLeftSubstring",value:function(t,e,n){var i=[];while(t>0&&e>this.MAX_Y_AXIS_VALUE&&n>0){t-=1,e+=1,n-=1;var a=this.matrix[e][t];if(null===a||a!==this.player)break;i.push(a)}return i}},{key:"getBottomRightSubstring",value:function(t,e,n){var i=[];while(t<this.MAX_X_AXIS_VALUE&&e<this.MAX_Y_AXIS_VALUE&&n>0){t+=1,e+=1,n-=1;var a=this.matrix[e][t];if(null===a||a!==this.player)break;i.push(a)}return i}},{key:"getHorizontal",value:function(){return[].concat(Object(I["a"])(this.getLeftSubstring(this.x,this.y,this.s)),[this.player],Object(I["a"])(this.getRightSubstring(this.x,this.y,this.s))).join("")}},{key:"getVertical",value:function(){return[].concat(Object(I["a"])(this.getTopSubstring(this.x,this.y,this.s)),[this.player],Object(I["a"])(this.getBottomSubstring(this.x,this.y,this.s))).join("")}},{key:"getFirstDiagonal",value:function(){return[].concat(Object(I["a"])(this.getTopLeftSubstring(this.x,this.y,this.s)),[this.player],Object(I["a"])(this.getBottomRightSubstring(this.x,this.y,this.s))).join("")}},{key:"getSecondDiagonal",value:function(){return[].concat(Object(I["a"])(this.getTopRightSubstring(this.x,this.y,this.s)),[this.player],Object(I["a"])(this.getBottomLeftSubstring(this.x,this.y,this.s))).join("")}},{key:"getPossibleWinningLines",value:function(){var t=this.getHorizontal(),e=this.getVertical(),n=this.getFirstDiagonal(),i=this.getSecondDiagonal();return[t,e,n,i]}},{key:"calc",value:function(){var t=new RegExp("[".concat(this.player,"]{").concat(this.winningLine,"}")),e=this.getPossibleWinningLines(),n=e.some(function(e){return t.test(e)});return n}}]),t}(),D={name:"VTableCell",props:{x:Number,y:Number,cellContent:String},computed:Object(T["a"])({},Object(d["c"])(["matrix","winningLine","emptyCells","gameOver"]),Object(d["b"])(["currentPlayer"]),{clickedCellClassName:function(){return null===this.cellContent?"":"X"===this.cellContent?"clicked cell-x":"clicked cell-o"}}),methods:{onCellClick:function(){this.gameOver||null!==this.matrix[this.y][this.x]||(this.$store.commit("changeMatrixCell",{x:this.x,y:this.y,player:this.currentPlayer}),this.$store.commit("decreaseEmptyCells"),this.checkWin())},checkWin:function(){var t=new B(this.x,this.y,this.currentPlayer,this.matrix,this.winningLine).calc();t?this.$store.commit("setWinner",this.currentPlayer):0===this.emptyCells?this.$store.commit("setDraw"):this.$store.commit("changePlayer")}}},z=D,H=(n("4019"),Object(f["a"])(z,E,G,!1,null,null,null)),Y=H.exports,N={computed:{matrix:function(){return this.$store.state.matrix}},components:{"app-table-cell":Y}},F=N,J=(n("76a5"),Object(f["a"])(F,W,V,!1,null,null,null)),q=J.exports,K=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("modal",{attrs:{name:"game-results",width:"300",height:"auto"}},[i("v-card",[i("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[t._v("\n      Игра окончена\n    ")]),i("v-card-text",["draw"===t.gameWinner?[i("v-layout",{attrs:{"mb-3":"","justify-center":""}},[i("h1",{staticClass:"text-xs-center"},[t._v("Победила дружба")])]),i("img",{attrs:{src:n("4416"),alt:"Рукопожатие"}})]:[i("v-layout",{attrs:{"mb-3":"","justify-center":""}},[i("h1",{staticClass:"text-xs-center"},[t._v("Победил игрок "+t._s(t.currentPlayer))])]),i("img",{attrs:{src:n("ec01"),alt:"Радость победы"}})]],2),i("v-divider"),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"indigo",flat:""},on:{click:t.restart}},[t._v("\n        Еше разок\n      ")]),i("v-btn",{attrs:{color:"red",flat:""},on:{click:t.cancel}},[t._v("\n        Отмена\n      ")])],1)],1)],1)},Q=[],Z={name:"ModalGameResults",computed:{currentPlayer:function(){return this.$store.getters.currentPlayer},gameWinner:function(){return this.$store.state.gameWinner}},methods:{restart:function(){this.$store.dispatch("newGame"),this.$modal.hide("game-results")},cancel:function(){this.$modal.hide("game-results")}}},tt=Z,et=(n("0319"),Object(f["a"])(tt,K,Q,!1,null,"280d3a20",null)),nt=et.exports,it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("modal",{attrs:{name:"game-settings",height:"auto",adaptive:""}},[n("v-card",[n("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[t._v("\n      Настройки\n    ")]),n("v-card-text",[n("app-game-settings")],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{flat:"",color:"indigo"},on:{click:t.apply}},[t._v("\n        Применить\n      ")])],1)],1)],1)},at=[],rt={name:"ModalGameSettings",components:{"app-game-settings":C},methods:{apply:function(){this.$store.dispatch("newGame"),this.$modal.hide("game-settings")}}},st=rt,lt=Object(f["a"])(st,it,at,!1,null,null,null),ot=lt.exports,ct={name:"Board",components:{"app-modal-game-settings":ot,"app-modal-game-results":nt,"app-table":q},computed:{gameOver:function(){return this.$store.state.gameOver},currentPlayer:function(){return this.$store.getters.currentPlayer}},methods:{newGame:function(){this.$store.dispatch("newGame")},showSettings:function(){this.$modal.show("game-settings")}},watch:{gameOver:function(t){!0===t&&this.$modal.show("game-results")}}},ut=ct,ht=Object(f["a"])(ut,M,P,!1,null,null,null),mt=ht.exports;i["default"].use(y["a"]);var vt=new y["a"]({routes:[{path:"/",component:X},{path:"/board",component:mt}],mode:"history"});n("bf40"),n("59d6"),n("532d");i["default"].use(r.a,{iconfont:"fa"}),i["default"].use(l.a),i["default"].use(c.a),i["default"].config.productionTip=!1,new i["default"]({store:b,router:vt,render:function(t){return t(p)}}).$mount("#app")},"57e5":function(t,e,n){},"59d6":function(t,e,n){},"64a9":function(t,e,n){},"76a5":function(t,e,n){"use strict";var i=n("dedf"),a=n.n(i);a.a},"7a0b":function(t,e,n){"use strict";var i=n("899b"),a=n.n(i);a.a},"899b":function(t,e,n){},c3f2:function(t,e,n){},dedf:function(t,e,n){},ec01:function(t,e,n){t.exports=n.p+"img/congrats.2d33da90.gif"}});
//# sourceMappingURL=app.de4947ec.js.map